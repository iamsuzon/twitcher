import{b as g,c as f}from"./index.esm.c53474a9.js";import{_ as s}from"./Translate.dc83ae5b.js";import{r as i,j as r,F as N,a as t,L as v,d as w}from"./app.01478f3a.js";import{M as S}from"./Modal.efe60ae3.js";import{c as y}from"./index.esm.68978a19.js";import{Q as d}from"./react-toastify.esm.bdf47744.js";import{S as k}from"./Spinner.51b1a145.js";import{n as M}from"./index.7559d2e8.js";import{a as T}from"./index.esm.20d0c837.js";import"./iconBase.b9bf8c21.js";import"./transition.054c8d20.js";const _=({streamUser:a,userIsSubscribed:F})=>{const[m,o]=i.exports.useState(!1),[n,h]=i.exports.useState([{}]),[p,u]=i.exports.useState(!0),b=()=>{w.get(route("streaming.getTiers",{user:a.id})).then(e=>{h(e.data),u(!1)}).catch(e=>{var l,c;return d.error((c=(l=e.response)==null?void 0:l.data)==null?void 0:c.message)})},x=e=>{e.preventDefault(),o(!0),b(),d.warning(s("Please subscribe to gain access to the live stream."))};return r(N,{children:[r("a",{onClick:e=>x(e),className:"inline-flex items-center text-pink-600 hover:text-pink-500 text-lg font-bold watch-stream-sc",children:[t(g,{className:"mr-1"}),s("Watch Stream")]}),t(S,{show:m,onClose:e=>o(!1),maxWidth:"xs",children:r("div",{className:"text-center bg-white",children:[r("div",{className:"relative",children:[t("img",{src:a.cover_picture,alt:"",className:"h-24 rounded-tr rounded-tl w-full"}),t("div",{className:"absolute top-5 left-0 bg-indigo-800 text-white font-bold text-sm uppercase rounded-tr rounded-br px-2 py-1",children:s("Select Tier")})]}),t("div",{className:"mx-auto border-2 border-white bg-white  shadow rounded-full mt-[-50px] w-20 h-20 z-10 relative",children:t("img",{src:a.profile_picture,alt:"",className:"w-full rounded-full"})}),t("center",{children:p&&t(k,{})}),r("div",{className:"py-3",children:[n.length===0&&s("Streamer did not set any membership options yet."),n.map(e=>r("div",{className:"mb-4",children:[t("h3",{className:"text-indigo-800 text-lg",children:e.tier_name}),r("span",{className:"text-indigo-800 text-sm px-1.5 py-1 rounded font-bold",children:[t(T,{className:"h-4 w-4 inline-flex mr-1 mb-1"}),s(":tierPrice Tokens / Month",{tierPrice:e.price})]}),t("div",{className:"text-gray-600 mt-1 px-2",children:M(e.perks)}),r(v,{href:route("subscribe",{channel:a.username,tier:e.id||123}),className:"py-1 text-sm px-3 mt-2 inline-flex border-2 rounded-md border-gray-700 text-gray-700 items-center hover:border-indigo-600 hover:text-indigo-600",children:[t(y,{className:"mr-2"}),t("span",{children:s("Subscribe")}),t(f,{className:"ml-1"})]})]},`tier-${e.id}`))]})]})})]})},I=_;export{I as default};
