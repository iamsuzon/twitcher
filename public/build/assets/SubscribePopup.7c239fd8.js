import{M as N}from"./Modal.81f47e62.js";import{r as a,j as t,F as S,a as r,f as v,L as w,d as y}from"./app.9e598114.js";import{S as m}from"./SecondaryButton.b66e07c5.js";import{_ as s}from"./Translate.dc83ae5b.js";import{c as o}from"./index.esm.487ec2bb.js";import{Q as k}from"./react-toastify.esm.d2e42348.js";import{S as T}from"./Spinner.b056f180.js";import{n as _}from"./index.ad82f4f7.js";import{a as M}from"./index.esm.c83823d4.js";import{c as j}from"./index.esm.04772378.js";import"./transition.955527f9.js";import"./iconBase.4930b98a.js";function R({user:i,userIsSubscribed:p}){const[h,n]=a.exports.useState(!1),[l,u]=a.exports.useState([{}]),[b,f]=a.exports.useState(!0),x=()=>{y.get(route("streaming.getTiers",{user:i.id})).then(e=>{u(e.data),f(!1)}).catch(e=>{var d,c;return k.error((c=(d=e.response)==null?void 0:d.data)==null?void 0:c.message)})},g=e=>{e.preventDefault(),n(!0),x()};return t(S,{children:[p?t(m,{onClick:e=>v.Inertia.visit(route("mySubscriptions")),children:[r(o,{className:"mr-1"}),s("Subscriptions")]}):t(m,{onClick:e=>g(e),children:[r(o,{className:"mr-1"}),s("Subscribe")]}),r(N,{show:h,onClose:e=>n(!1),maxWidth:"xs",children:t("div",{className:"text-center bg-white",children:[t("div",{className:"relative",children:[r("img",{src:i.cover_picture,alt:"",className:"h-24 rounded-tr rounded-tl w-full"}),r("div",{className:"absolute top-5 left-0 bg-indigo-800 text-white font-bold text-sm uppercase rounded-tr rounded-br px-2 py-1",children:s("Select Tier")})]}),r("div",{className:"mx-auto border-2 border-white bg-white  shadow rounded-full mt-[-50px] w-20 h-20 z-10 relative",children:r("img",{src:i.profile_picture,alt:"",className:"w-full rounded-full"})}),r("center",{children:b&&r(T,{})}),t("div",{className:"py-3",children:[l.length===0&&s("Streamer did not set any membership options yet."),l.map(e=>t("div",{className:"mb-4",children:[r("h3",{className:"text-indigo-800 text-lg",children:e.tier_name}),t("span",{className:"text-indigo-800 text-sm px-1.5 py-1 rounded font-bold",children:[r(M,{className:"h-4 w-4 inline-flex mr-1 mb-1"}),s(":tierPrice Tokens / Month",{tierPrice:e.price})]}),r("div",{className:"text-gray-600 mt-1 px-2",children:_(e.perks)}),t(w,{href:route("subscribe",{channel:i.username,tier:e.id||123}),className:"py-1 text-sm px-3 mt-2 inline-flex border-2 rounded-md border-gray-700 text-gray-700 items-center hover:border-indigo-600 hover:text-indigo-600",children:[r(o,{className:"mr-2"}),r("span",{children:s("Subscribe")}),r(j,{className:"ml-1"})]})]},`tier-${e.id}`))]})]})})]})}export{R as default};
